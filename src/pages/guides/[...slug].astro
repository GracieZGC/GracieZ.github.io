---
import { getCollection } from "astro:content";

export async function getStaticPaths() {
	const entries = await getCollection("guides", (e) => !e.data.draft);
	return entries.map((entry) => ({ params: { slug: entry.slug } }));
}

const slug = Astro.params.slug;
const to = slug ? `/articles/${slug}` : "/articles";
---

<html lang="zh-CN">
	<head>
		<meta charset="utf-8" />
		<meta http-equiv="refresh" content={`0; url=${to}`} />
		<link rel="canonical" href={to} />
		<meta name="robots" content="noindex" />
		<title>跳转中…</title>
	</head>
	<body>
		<p>正在跳转到 <a href={to}>{to}</a>…</p>
	</body>
</html>
